@using Microsoft.EntityFrameworkCore.Metadata.Internal
@model HerbalDrugstore.Models.SupplyAndLotViewModel

@{
    ViewData["Title"] = "AddSupplyStep2";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<h2>Add drug</h2>
<div class="cont">
    <h3>Step 2: Start adding drugs</h3><br/>
    <h4>Total price: @ViewBag.TotalPrice</h4>


    <form asp-action="AddSupplyStep3">
        <div class="form-horizontal">
            <input type="hidden" value="@ViewBag.TotalPrice" name="prevPrice">

            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input type="hidden" value="@Model.Supplier.SupplierId" name="supplierId">

            <div class="form-group">
                <label class="col-md-2 control-label">Drug</label>
                <div class="col-md-10">
                    <select class="form-control" name="drugId">
                        @foreach (var drug in Model.Drugs)
                        {
                            <option value="@drug.DrugId">@drug.Name</option>
                        }
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="col-md-2 control-label">Quanyity</label>
                <div class="col-md-10">
                    <input type="number" name="quantity" class="form-control"/>
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-2 control-label">Price$</label>
                <div class="col-md-10">
                    <input type="number" step="0.01" name="price" class="form-control" value="@ViewBag.Price" readonly/>
                </div>
            </div>

            <div class="form-group">

                <div class="col-md-10" style="padding-left: 63px; width: 100%;">
                    <input type="submit" name="command" value="Finish" class="btn btn-success" style="width: 100%; margin-bottom: 20px;"/>
                </div>
                <div class="col-md-10" style="padding-left: 63px; width: 100%;">
                    <input type="submit" name="command" value="Next drug" class="btn btn-default" style="width: 100%; margin-left: 30px"/>
                </div>


            </div>
        </div>
    </form>

    <div style="padding-left: 160px; width: 100%;">
        <a asp-action="AddSupplyStep1">Back</a>
    </div>
</div>
<style>
    input, select {
        margin-left: 30px;
    }
    h1, p, h2, h3,h4, label {
        color: white;
    }

    .cont {
        margin-left: 450px;
    }
</style>